/*!
 * slide - a generic slider
 * v0.12.0
 * https://github.com/firstandthird/slide/
 * copyright First+Third 2014
 * MIT License
*/
!function(a,b){var c=0,d=function(a){this.obj=a};d.prototype.__init=function(a){b.extend(this,this.obj),this.id=c++,this.namespace=".fidel"+this.id,this.obj.defaults=this.obj.defaults||{},b.extend(this,this.obj.defaults,a),b("body").trigger("FidelPreInit",this),this.setElement(this.el||b("<div/>")),this.init&&this.init(),b("body").trigger("FidelPostInit",this)},d.prototype.eventSplitter=/^(\w+)\s*(.*)$/,d.prototype.setElement=function(a){this.el=a,this.getElements(),this.dataElements(),this.delegateEvents(),this.delegateActions()},d.prototype.find=function(a){return this.el.find(a)},d.prototype.proxy=function(a){return b.proxy(a,this)},d.prototype.getElements=function(){if(this.elements)for(var a in this.elements){var b=this.elements[a];this[b]=this.find(a)}},d.prototype.dataElements=function(){var a=this;this.find("[data-element]").each(function(c,d){var e=b(d),f=e.data("element");a[f]=e})},d.prototype.delegateEvents=function(){if(this.events)for(var a in this.events){var b=this.events[a],c=a.match(this.eventSplitter),d=c[1],e=c[2],f=this.proxy(this[b]);""===e?this.el.on(d+this.namespace,f):this[e]&&"function"!=typeof this[e]?this[e].on(d+this.namespace,f):this.el.on(d+this.namespace,e,f)}},d.prototype.delegateActions=function(){var a=this;a.el.on("click"+this.namespace,"[data-action]",function(c){var d=b(this),e=d.attr("data-action");a[e]&&a[e](c,d)})},d.prototype.on=function(a,b){this.el.on(a+this.namespace,b)},d.prototype.one=function(a,b){this.el.one(a+this.namespace,b)},d.prototype.emit=function(a,b,c){var d=c?this.namespace:"";this.el.trigger(a+d,b)},d.prototype.hide=function(){if(this.views)for(var a in this.views)this.views[a].hide();this.el.hide()},d.prototype.show=function(){if(this.views)for(var a in this.views)this.views[a].show();this.el.show()},d.prototype.destroy=function(){this.el.empty(),this.emit("destroy"),this.el.unbind(this.namespace)},d.declare=function(a){var b=function(a,b){this.__init(a,b)};return b.prototype=new d(a),b},d.onPreInit=function(a){b("body").on("FidelPreInit",function(b,c){a.call(c)})},d.onPostInit=function(a){b("body").on("FidelPostInit",function(b,c){a.call(c)})},a.Fidel=d}(window,window.jQuery||window.Zepto),function(a){a.declare=function(b,c){a.fn[b]=function(){var d,e,f=Array.prototype.slice.call(arguments),g=f.shift();return e=this.each(function(){var e=a(this),h=e.data(b);if(!h){var i=Fidel.declare(c),j=a.extend({},g,{el:e});h=new i(j),e.data(b,h)}"string"==typeof g&&(d=h[g].apply(h,f))}),"undefined"!=typeof d?d:e},a.fn[b].defaults=c.defaults||{}},a.Fidel=window.Fidel}(jQuery),function(a){a.declare("slide",{defaults:{page:1,itemsPerPage:1,duration:500,itemClass:"item",containerClass:"container",auto:!1,autoDelay:5e3,indicators:!1,indicatorClass:"active",indicatorClick:!0,wrap:!0,previews:!1,cssAnimate:!1,responsive:!1,ease:"swing",animationEndEvents:"animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",animationBaseClass:"item-animation"},events:{mouseover:"stop",mouseout:"start"},elements:{"[data-action=previous]":"previousButton","[data-action=next]":"nextButton"},init:function(){this.items=this.find("."+this.itemClass),this.pageCount=Math.ceil(this.items.length/this.itemsPerPage),this.container=this.find("."+this.containerClass),this.container.queue("fx"),this.animating=!1,this.updateWidth(this.items.first().outerWidth(!0)),this.go(this.page,"first"),this.auto&&this.start(),this.indicators&&this.indicatorClick&&this.el.find(this.indicators).on("click",this.proxy(this.indicatorClicked)),this.responsive&&a(window).on("resize",this.proxy(function(){this.updateWidth()})).trigger("resize"),this.updatePreview()},getCurrentPage:function(){return this.currentPage},getPageCount:function(){return this.pageCount},next:function(a){this.go(this.currentPage+1,a),this.emit("next",this.currentPage)},previous:function(a){this.go(this.currentPage-1,a),this.emit("previous",this.currentPage)},go:function(b,c){if(this.animating)return!1;if("object"==typeof b&&(b=a(b.target).data("page")),b>this.pageCount||1>b)return void(this.previews||this.wrap?1>b?this.go(this.pageCount,c):this.go(1,c):"function"==typeof c&&c());var d=this.currentPage<b?"next":"prev";1===b&&this.currentPage===this.items.length&&(d="next"),b===this.items.length&&1===this.currentPage&&(d="prev"),this.currentPage=b;var e="-"+this.pageWidth*(b-1);if(this.cssAnimate?this._slideCSS(d,c):this._slide(e,c),this.indicators){var f=this.el.find(this.indicators);f.removeClass(this.indicatorClass),f.eq(this.currentPage-1).addClass(this.indicatorClass)}},first:function(a){this.go(1,a)},last:function(a){this.go(this.pageCount,a)},_slideCSS:function(b,c){var d=this,e=0;return"first"===c?void a(this.items[this.currentPage-1]).addClass("active"):(this.animating=!0,a(d.items).one(this.animationEndEvents,function(){d.animating=!1,d.container.find(".active").removeClass("active"),a(d.items[d.currentPage-1]).removeClass(b+"-"+d.animationBaseClass+"-in").addClass("active"),a(d.items[e]).removeClass(b+"-"+d.animationBaseClass+"-out"),a(d.items).unbind(d.animationEndEvents),d.emit("slide",d.currentPage),"function"==typeof c&&c()}),"next"===b?(e=this.currentPage-2,0>e&&(e=this.items.length-1)):(e=this.currentPage,e>=this.items.length&&(e=0)),a(this.items[e]).addClass(b+"-"+this.animationBaseClass+"-out active"),void a(this.items[this.currentPage-1]).addClass(b+"-"+this.animationBaseClass+"-in active"))},_slide:function(a,b){var c=this;this.cb=b,this.emit("beforeSlide",this.currentPage),this.updateButtons(),"first"===b?this.container.css({left:a}):this.container.animate({left:a},c.duration,this.ease,function(){c.emit("slide",c.currentPage),"function"==typeof b&&b()})},updateButtons:function(){1===this.currentPage&&this.emit("first",this.currentPage),this.currentPage===this.pageCount&&this.emit("last",this.currentPage),1!=this.currentPage||this.previews||this.wrap?this.previousButton.show():this.previousButton.hide(),this.currentPage!=this.pageCount||this.previews||this.wrap?this.nextButton.show():this.nextButton.hide()},updatePreview:function(){if(this.previews){var a=this.find("."+this.itemClass),b=a.first().clone(),c=a.last().clone();c.insertBefore(a.first()),b.insertAfter(a.last())}},start:function(a){if(!a||this.auto){this.auto=!0,this.timeout&&clearTimeout(this.timeout);var b=this;this.timeout=setTimeout(function(){b.wrap&&b.currentPage==b.pageCount&&(b.currentPage=0),b.next(),b.start()},this.autoDelay)}},stop:function(){this.auto&&clearTimeout(this.timeout)},indicatorClicked:function(a){var b=this.el.find(this.indicators).index(a.currentTarget);this.go(b+1)},updateWidth:function(b){b||(b=a(window).width()),this.pageWidth=b*this.itemsPerPage,this.previews?(this.el.css("width",2*b),this.cssAnimate||this.el.find(".wrapper").css("margin-left","-"+b/2+"px")):this.el.css("width",this.pageWidth),this.cssAnimate||this.container.css({left:"-"+~~(this.pageWidth*(0===this.currentPage?0:this.currentPage-1))+"px"}),this.items.css("width",b)}})}(jQuery);