/*!
 * slide - a generic slider
 * v0.13.1
 * https://github.com/firstandthird/slide/
 * copyright First+Third 2014
 * MIT License
*/
!function(a){a.declare("slide",{defaults:{page:1,itemsPerPage:1,duration:500,containerClass:"slide-container",overrideTransition:!1,wrapEl:"div",wrap:!1},init:function(){this.items=this.el.children(),this.pageCount=Math.ceil(this.items.length/this.itemsPerPage),this.updateWidth(),this._createContainer(),this.container.queue("fx"),this.animating=!1,this.go(this.page,"first"),this.emit("init.slide")},updateWidth:function(){var a=this.el.width();this.pageWidth=a;var b=a/this.itemsPerPage;this.items.css({width:b,"float":"left"})},_createContainer:function(){this.el.children().wrapAll("<"+this.wrapEl+' class="'+this.containerClass+'"/>'),this.container=this.el.find("."+this.containerClass),this.el.css("overflow","hidden"),this.container.css({position:"relative",width:this.pageWidth*this.items.length})},getCurrentPage:function(){return this.currentPage},getPageCount:function(){return this.pageCount},getContainer:function(){return this.container},goNext:function(a){var b=this;this.go(this.currentPage+1,function(){b.emit("next.slide",b.currentPage),a&&a()})},goPrevious:function(a){var b=this;this.go(this.currentPage-1,function(){b.emit("previous.slide",b.currentPage),a&&a()})},goFirst:function(a){this.go(1,a)},goLast:function(a){this.go(this.pageCount,a)},go:function(a,b){if(this.animating)return!1;if(a>this.pageCount||1>a){if(!this.wrap)return void("function"==typeof b&&b());a=1>a?this.pageCount:1}this.emit("beforeSlide.slide",this.currentPage);var c=this;this.currentPage=a;var d=this.overrideTransition||this._slideTo;d.call(this,this.currentPage,function(){c.emit("slide.slide",c.currentPage),1==c.currentPage?c.emit("first.slide"):c.currentPage==c.pageCount&&c.emit("last.slide"),"function"==typeof b&&b(c.currentPage)})},_slideTo:function(a,b){var c="-"+this.pageWidth*(a-1);this.container.animate({left:c},this.duration,b)}})}(jQuery),function(a){a.declare("slideButtons",{defaults:{previousText:"Previous",previousClass:"slide-previous",previousOffsetX:10,previousOffsetY:0,nextText:"Next",nextClass:"slide-next",nextOffsetX:10,nextOffsetY:0,autoHide:!1},init:function(){this.el.css({position:"relative"}),this.setupButtons(),this.el.data("slide").wrap||(this.el.on("first.slide",this.proxy(this.hidePreviousButton)),this.el.on("last.slide",this.proxy(this.hideNextButton)),this.el.on("slide.slide",this.proxy(this.showButtons)))},setupButtons:function(){if(this.prevButton=a("<button/>").addClass(this.previousClass).text(this.previousText).css({display:this.autoHide?"none":"block",position:"absolute",top:50-this.previousOffsetY+"%",left:this.previousOffsetX}).on("click",this.proxy(this.prev)).appendTo(this.el),this.nextButton=a("<button/>").addClass(this.nextClass).text(this.nextText).css({display:this.autoHide?"none":"block",position:"absolute",top:50-this.nextOffsetY+"%",right:this.nextOffsetX}).on("click",this.proxy(this.next)).appendTo(this.el),this.autoHide){var b=this;this.el.hover(function(){b.nextButton.fadeIn(),b.prevButton.fadeIn()},function(){b.nextButton.fadeOut(),b.prevButton.fadeOut()})}},prev:function(){this.el.slide("goPrevious")},next:function(){this.el.slide("goNext")},hidePreviousButton:function(){this.prevButton.css("visibility","hidden")},hideNextButton:function(){this.nextButton.css("visibility","hidden")},showButtons:function(){this.nextButton.css("visibility","visible"),this.prevButton.css("visibility","visible")}})}(jQuery),function(a){a.declare("slideIndicators",{defaults:{element:"<div/>",activeClass:"slide-indicator-active",itemClass:"slide-indicator",offsetY:-10,allowClick:!0},init:function(){this.sliderContainer=this.el.slide("getContainer"),this.pageCount=this.el.slide("getPageCount"),this.indicatorContainer=a(this.element).css({position:"absolute",bottom:this.offsetY<0?-this.offsetY:0,width:"100%",overflow:"hidden","text-align":"center",clear:"both"}).appendTo(this.el),this.createIndicators(),this.indicators=a("."+this.itemClass),this.allowClick&&this.indicators.bind("click",this.proxy(this.indicatorClicked)),this.el.on("slide.slide",this.proxy(function(a,b){this.indicators.removeClass(this.activeClass),this.indicators.eq(b-1).addClass(this.activeClass)}))},createIndicators:function(){for(var b,c=[],d=1,e=this.pageCount;e>=d;d++)b='<span class="'+this.itemClass+'" data-slide-index="'+d+'"></span>',c.push(b);this.indicatorContainer.append(c),a(this.el).css({position:"relative","padding-bottom":this.offsetY>0?this.offsetY:0})},indicatorClicked:function(b){var c=a(b.currentTarget).data("slide-index");this.el.slide("go",c)}})}(jQuery),function(a){a.declare("slidePreview",{init:function(){if(this.slide=this.el.data("slide"),!this.slide)throw new Error("slidePreview() must be called after slide()");var a=this.slide.items,b=a.first().clone(),c=a.last().clone();c.insertBefore(a.first()),b.insertAfter(a.last()),this.slide.items=this.slide.container.children(),this.slide.container.css("width",this.slide.pageWidth*this.slide.items.length),this.slide.container.css("marginLeft",this.slide.pageWidth/2*-1),this.el.css("width","+="+this.slide.pageWidth)}})}(jQuery);