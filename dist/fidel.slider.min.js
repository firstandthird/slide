/*!
 * fidel-slider - a generic slider using fidel
 * v0.5.0
 * https://github.com/jgallen23/fidel-slider
 * copyright JGA 2013
 * MIT License
*/
(function(t){t.declare("slider",{defaults:{page:1,itemsPerPage:1,duration:500,itemClass:"item",containerClass:"container",auto:!1,autoDelay:5e3,indicators:!1,indicatorClass:"active",wrap:!0,previews:!1},events:{mouseover:"stop",mouseout:"start"},elements:{"[data-action=previous]":"previousButton","[data-action=next]":"nextButton"},init:function(){var t=this.find("."+this.itemClass);this.pageCount=Math.ceil(t.length/this.itemsPerPage),this.pageWidth=t.outerWidth(!0)*this.itemsPerPage,this.container=this.find("."+this.containerClass),this.container.queue("fx"),this.previews?(this.el.css("width",2*this.pageWidth),this.el.find(".wrapper").css("margin-left","-"+this.pageWidth/2)):this.el.css("width",this.pageWidth),this.go(this.page),this.auto&&this.start(),this.updatePreview()},getCurrentPage:function(){return this.currentPage},next:function(t){this.go(this.currentPage+1,t),this.emit("next",this.currentPage)},previous:function(t){this.go(this.currentPage-1,t),this.emit("previous",this.currentPage)},go:function(i,e){if("object"==typeof i&&(i=t(i.target).data("page")),i>this.pageCount||1>i)return this.previews?1>i?this.go(this.pageCount,e):this.go(1,e):"function"==typeof e&&e(),void 0;this.currentPage=i;var s="-"+this.pageWidth*(i-1);if(this._slide(s,e),this.indicators){var n=this.el.find(this.indicators);n.removeClass(this.indicatorClass),n.eq(this.currentPage-1).addClass(this.indicatorClass)}},first:function(t){this.go(1,t)},last:function(t){this.go(this.pageCount,t)},_slide:function(t,i){var e=this;this.emit("beforeSlide",this.currentPage),this.updateButtons(),this.container.animate({left:t},e.duration,function(){e.emit("slide",e.currentPage),"function"==typeof i&&i()})},updateButtons:function(){1!=this.currentPage||this.previews?this.previousButton.show():(this.previousButton.hide(),this.emit("first",this.currentPage)),this.currentPage!=this.pageCount||this.previews?this.nextButton.show():(this.nextButton.hide(),this.emit("last",this.currentPage))},updatePreview:function(){if(this.previews){var t=this.find("."+this.itemClass),i=t.first().clone(),e=t.last().clone();e.insertBefore(t.first()),i.insertAfter(t.last())}},start:function(t){if(!t||this.auto){this.auto=!0,this.timeout&&clearTimeout(this.timeout);var i=this;this.timeout=setTimeout(function(){i.wrap&&i.currentPage==i.pageCount&&(i.currentPage=0),i.next(),i.start()},this.autoDelay)}},stop:function(){this.auto&&clearTimeout(this.timeout)}})})(jQuery);