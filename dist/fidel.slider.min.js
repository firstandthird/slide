/*!
 * fidel-slider - a generic slider using fidel
 * v0.2.0
 * https://github.com/jgallen23/fidel-slider
 * copyright JGA 2013
 * MIT License
*/
$.declare("slider",{defaults:{page:1,itemsPerPage:1,duration:500,itemClass:"item",containerClass:"container"},elements:{"[data-action=previous]":"previousButton","[data-action=next]":"nextButton"},init:function(){var e=this.find("."+this.itemClass);this.pageCount=Math.ceil(e.length/this.itemsPerPage),this.pageWidth=e.width()*this.itemsPerPage,this.container=this.find("."+this.containerClass),this.container.queue("fx"),this.el.css("width",this.pageWidth),this.go(this.page)},getCurrentPage:function(){return this.currentPage},next:function(e){this.go(this.currentPage+1,e),this.emit("next",this.currentPage)},previous:function(e){this.go(this.currentPage-1,e),this.emit("previous",this.currentPage)},go:function(e,t){typeof e=="object"&&(e=$(e.target).data("page"));if(e>this.pageCount||e<1){typeof t=="function"&&t();return}this.currentPage=e;var n="-"+this.pageWidth*(e-1);this._slide(n,t)},first:function(e){this.go(1,e)},last:function(e){this.go(this.pageCount,e)},_slide:function(e,t){var n=this;this.emit("beforeSlide",this.currentPage),this.updateButtons(),this.container.animate({left:e},n.duration,function(){n.emit("slide",n.currentPage),typeof t=="function"&&t()})},updateButtons:function(){this.currentPage==1?(this.previousButton.hide(),this.emit("first",this.currentPage)):this.previousButton.show(),this.currentPage==this.pageCount?(this.nextButton.hide(),this.emit("last",this.currentPage)):this.nextButton.show()}});